(()=>{var Ze=Object.create;var oe=Object.defineProperty,et=Object.defineProperties,tt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertyNames,X=Object.getOwnPropertySymbols,ot=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var xe=(e,r,t)=>r in e?oe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,q=(e,r)=>{for(var t in r||(r={}))se.call(r,t)&&xe(e,t,r[t]);if(X)for(var t of X(r))ge.call(r,t)&&xe(e,t,r[t]);return e},M=(e,r)=>et(e,rt(r));var Re=(e,r)=>{var t={};for(var n in e)se.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&X)for(var n of X(e))r.indexOf(n)<0&&ge.call(e,n)&&(t[n]=e[n]);return t};var ie=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var st=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let I of nt(r))!se.call(e,I)&&I!==t&&oe(e,I,{get:()=>r[I],enumerable:!(n=tt(r,I))||n.enumerable});return e};var it=(e,r,t)=>(t=e!=null?Ze(ot(e)):{},st(r||!e||!e.__esModule?oe(t,"default",{value:e,enumerable:!0}):t,e));var Q=(e,r,t)=>new Promise((n,I)=>{var l=o=>{try{i(t.next(o))}catch(c){I(c)}},h=o=>{try{i(t.throw(o))}catch(c){I(c)}},i=o=>o.done?n(o.value):Promise.resolve(o.value).then(l,h);i((t=t.apply(e,r)).next())});var Ge=ie(()=>{});var je=ie(()=>{});var Me=ie((Sr,te)=>{(function(){"use strict";var e="input is invalid type",r=typeof window=="object",t=r?window:{};t.JS_SHA256_NO_WINDOW&&(r=!1);var n=!r&&typeof self=="object",I=!t.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;I?t=global:n&&(t=self);var l=!t.JS_SHA256_NO_COMMON_JS&&typeof te=="object"&&te.exports,h=typeof define=="function"&&define.amd,i=!t.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",o="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],s=[24,16,8,0],g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=["hex","array","digest","arrayBuffer"],m=[];(t.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),i&&(t.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});var P=function(a,_){return function(R){return new y(_,!0).update(R)[a]()}},v=function(a){var _=P("hex",a);I&&(_=H(_,a)),_.create=function(){return new y(a)},_.update=function(x){return _.create().update(x)};for(var R=0;R<w.length;++R){var d=w[R];_[d]=P(d,a)}return _},H=function(a,_){var R=Ge(),d=je().Buffer,x=_?"sha224":"sha256",f;d.from&&!t.JS_SHA256_NO_BUFFER_FROM?f=d.from:f=function(u){return new d(u)};var C=function(u){if(typeof u=="string")return R.createHash(x).update(u,"utf8").digest("hex");if(u==null)throw new Error(e);return u.constructor===ArrayBuffer&&(u=new Uint8Array(u)),Array.isArray(u)||ArrayBuffer.isView(u)||u.constructor===d?R.createHash(x).update(f(u)).digest("hex"):a(u)};return C},N=function(a,_){return function(R,d){return new b(R,_,!0).update(d)[a]()}},z=function(a){var _=N("hex",a);_.create=function(x){return new b(x,a)},_.update=function(x,f){return _.create(x).update(f)};for(var R=0;R<w.length;++R){var d=w[R];_[d]=N(d,a)}return _};function y(a,_){_?(m[0]=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=a}y.prototype.update=function(a){if(!this.finalized){var _,R=typeof a;if(R!=="string"){if(R==="object"){if(a===null)throw new Error(e);if(i&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!i||!ArrayBuffer.isView(a)))throw new Error(e)}else throw new Error(e);_=!0}for(var d,x=0,f,C=a.length,u=this.blocks;x<C;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),_)for(f=this.start;x<C&&f<64;++x)u[f>>>2]|=a[x]<<s[f++&3];else for(f=this.start;x<C&&f<64;++x)d=a.charCodeAt(x),d<128?u[f>>>2]|=d<<s[f++&3]:d<2048?(u[f>>>2]|=(192|d>>>6)<<s[f++&3],u[f>>>2]|=(128|d&63)<<s[f++&3]):d<55296||d>=57344?(u[f>>>2]|=(224|d>>>12)<<s[f++&3],u[f>>>2]|=(128|d>>>6&63)<<s[f++&3],u[f>>>2]|=(128|d&63)<<s[f++&3]):(d=65536+((d&1023)<<10|a.charCodeAt(++x)&1023),u[f>>>2]|=(240|d>>>18)<<s[f++&3],u[f>>>2]|=(128|d>>>12&63)<<s[f++&3],u[f>>>2]|=(128|d>>>6&63)<<s[f++&3],u[f>>>2]|=(128|d&63)<<s[f++&3]);this.lastByteIndex=f,this.bytes+=f-this.start,f>=64?(this.block=u[16],this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,_=this.lastByteIndex;a[16]=this.block,a[_>>>2]|=c[_&3],this.block=a[16],_>=56&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),a[14]=this.hBytes<<3|this.bytes>>>29,a[15]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var a=this.h0,_=this.h1,R=this.h2,d=this.h3,x=this.h4,f=this.h5,C=this.h6,u=this.h7,F=this.blocks,p,A,E,B,S,G,j,W,re,ne,Y;for(p=16;p<64;++p)S=F[p-15],A=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,S=F[p-2],E=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,F[p]=F[p-16]+A+F[p-7]+E<<0;for(Y=_&R,p=0;p<64;p+=4)this.first?(this.is224?(W=300032,S=F[0]-1413257819,u=S-150054599<<0,d=S+24177077<<0):(W=704751109,S=F[0]-210244248,u=S-1521486534<<0,d=S+143694565<<0),this.first=!1):(A=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),E=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),W=a&_,B=W^a&R^Y,j=x&f^~x&C,S=u+E+j+g[p]+F[p],G=A+B,u=d+S<<0,d=S+G<<0),A=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),E=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),re=d&a,B=re^d&_^W,j=u&x^~u&f,S=C+E+j+g[p+1]+F[p+1],G=A+B,C=R+S<<0,R=S+G<<0,A=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),E=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),ne=R&d,B=ne^R&a^re,j=C&u^~C&x,S=f+E+j+g[p+2]+F[p+2],G=A+B,f=_+S<<0,_=S+G<<0,A=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),E=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),Y=_&R,B=Y^_&d^ne,j=f&C^~f&u,S=x+E+j+g[p+3]+F[p+3],G=A+B,x=a+S<<0,a=S+G<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+a<<0,this.h1=this.h1+_<<0,this.h2=this.h2+R<<0,this.h3=this.h3+d<<0,this.h4=this.h4+x<<0,this.h5=this.h5+f<<0,this.h6=this.h6+C<<0,this.h7=this.h7+u<<0},y.prototype.hex=function(){this.finalize();var a=this.h0,_=this.h1,R=this.h2,d=this.h3,x=this.h4,f=this.h5,C=this.h6,u=this.h7,F=o[a>>>28&15]+o[a>>>24&15]+o[a>>>20&15]+o[a>>>16&15]+o[a>>>12&15]+o[a>>>8&15]+o[a>>>4&15]+o[a&15]+o[_>>>28&15]+o[_>>>24&15]+o[_>>>20&15]+o[_>>>16&15]+o[_>>>12&15]+o[_>>>8&15]+o[_>>>4&15]+o[_&15]+o[R>>>28&15]+o[R>>>24&15]+o[R>>>20&15]+o[R>>>16&15]+o[R>>>12&15]+o[R>>>8&15]+o[R>>>4&15]+o[R&15]+o[d>>>28&15]+o[d>>>24&15]+o[d>>>20&15]+o[d>>>16&15]+o[d>>>12&15]+o[d>>>8&15]+o[d>>>4&15]+o[d&15]+o[x>>>28&15]+o[x>>>24&15]+o[x>>>20&15]+o[x>>>16&15]+o[x>>>12&15]+o[x>>>8&15]+o[x>>>4&15]+o[x&15]+o[f>>>28&15]+o[f>>>24&15]+o[f>>>20&15]+o[f>>>16&15]+o[f>>>12&15]+o[f>>>8&15]+o[f>>>4&15]+o[f&15]+o[C>>>28&15]+o[C>>>24&15]+o[C>>>20&15]+o[C>>>16&15]+o[C>>>12&15]+o[C>>>8&15]+o[C>>>4&15]+o[C&15];return this.is224||(F+=o[u>>>28&15]+o[u>>>24&15]+o[u>>>20&15]+o[u>>>16&15]+o[u>>>12&15]+o[u>>>8&15]+o[u>>>4&15]+o[u&15]),F},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var a=this.h0,_=this.h1,R=this.h2,d=this.h3,x=this.h4,f=this.h5,C=this.h6,u=this.h7,F=[a>>>24&255,a>>>16&255,a>>>8&255,a&255,_>>>24&255,_>>>16&255,_>>>8&255,_&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255];return this.is224||F.push(u>>>24&255,u>>>16&255,u>>>8&255,u&255),F},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(this.is224?28:32),_=new DataView(a);return _.setUint32(0,this.h0),_.setUint32(4,this.h1),_.setUint32(8,this.h2),_.setUint32(12,this.h3),_.setUint32(16,this.h4),_.setUint32(20,this.h5),_.setUint32(24,this.h6),this.is224||_.setUint32(28,this.h7),a};function b(a,_,R){var d,x=typeof a;if(x==="string"){var f=[],C=a.length,u=0,F;for(d=0;d<C;++d)F=a.charCodeAt(d),F<128?f[u++]=F:F<2048?(f[u++]=192|F>>>6,f[u++]=128|F&63):F<55296||F>=57344?(f[u++]=224|F>>>12,f[u++]=128|F>>>6&63,f[u++]=128|F&63):(F=65536+((F&1023)<<10|a.charCodeAt(++d)&1023),f[u++]=240|F>>>18,f[u++]=128|F>>>12&63,f[u++]=128|F>>>6&63,f[u++]=128|F&63);a=f}else if(x==="object"){if(a===null)throw new Error(e);if(i&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!i||!ArrayBuffer.isView(a)))throw new Error(e)}else throw new Error(e);a.length>64&&(a=new y(_,!0).update(a).array());var p=[],A=[];for(d=0;d<64;++d){var E=a[d]||0;p[d]=92^E,A[d]=54^E}y.call(this,_,R),this.update(A),this.oKeyPad=p,this.inner=!0,this.sharedMemory=R}b.prototype=new y,b.prototype.finalize=function(){if(y.prototype.finalize.call(this),this.inner){this.inner=!1;var a=this.array();y.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(a),y.prototype.finalize.call(this)}};var k=v();k.sha256=k,k.sha224=v(!0),k.sha256.hmac=z(),k.sha224.hmac=z(!0),l?te.exports=k:(t.sha256=k.sha256,t.sha224=k.sha224,h&&define(function(){return k}))})()});var ct=()=>{var e,r;return(r=(e=window.Shopline)==null?void 0:e.AdsChannel)==null?void 0:r.eventTrace},$=ct;var V=e=>{let t=["; ",document.cookie].join("").split(`; ${e}=`);return t.length===2?t.pop().split(";").shift():""},ye=()=>{let e=document.cookie;return e?e.split("; ").length:0};var ce=(p=>(p[p.Home=1]="Home",p[p.ProductsSearch=2]="ProductsSearch",p[p.Page=3]="Page",p[p.ProductsDetail=4]="ProductsDetail",p[p.PreviewProductsDetail=5]="PreviewProductsDetail",p[p.Activity=6]="Activity",p[p.Products=7]="Products",p[p.AllCollections=8]="AllCollections",p[p.Proofing=9]="Proofing",p[p.__NotFound=10]="__NotFound",p[p.Center=11]="Center",p[p.OrderList=12]="OrderList",p[p.OrderDetail=13]="OrderDetail",p[p.SignIn=14]="SignIn",p[p.SignOut=15]="SignOut",p[p.SignUp=16]="SignUp",p[p.Bind=17]="Bind",p[p.AddressNew=18]="AddressNew",p[p.AddressEdit=19]="AddressEdit",p[p.BlogsList=20]="BlogsList",p[p.BlogsDetail=21]="BlogsDetail",p[p.Policy=22]="Policy",p[p.Cart=23]="Cart",p[p.Password=24]="Password",p[p.ExpressCallback=25]="ExpressCallback",p[p.Checkout=26]="Checkout",p[p.Processing=27]="Processing",p[p.Thankyou=28]="Thankyou",p[p.Orders=29]="Orders",p[p.CheckoutError=30]="CheckoutError",p[p.StockProblems=31]="StockProblems",p))(ce||{}),we=()=>{let e=window.Shopline.uri.alias;return e=="404"?10:ce[e]||10};var me="Snapchat-Pixel-With-CAPI",be="criteo-pixel",Ce="Reddit-Pixel-CAPI";var ae={act:"mediawebeventtrackerforgg",project_id:"google"},at={FacebookPixel:{act:"mediawebeventtrackerforfb",project_id:"facebook"},GoogleAdsConversion:ae,GoogleAnalytics4:ae,GoogleAdsRemarketing:ae},dt=(e,r,t)=>{var s,g,w;let n=r.payload,c=t,{accountId:I}=c,l=Re(c,["accountId"]),{act:h,project_id:i}=at[e],o={length:ye(),consent:V("_tracking_consent"),_ga:V("_ga"),_fbp:V("_fbp"),_fbc:V("_fbc")};(w=(g=(s=window==null?void 0:window.HdSdk)==null?void 0:s.shopTracker)==null?void 0:g.collect)==null||w.call(g,M(q({},n),{event_name:r.name}),{actFields:{act:h,project_id:i,media:e,result_code:"200",result_message:"",event_time:`${n.event_time}`,action_source:n.action_source,media_account_id:I,report_data:JSON.stringify(M(q({},n),{cookies:o})),media_report_data:JSON.stringify(l),media_event_name:t.eventName,media_event_time:`${n.event_time}`,media_event_source_url:n.url,media_action_source:n.action_source}})},Fe=dt;var Se=(e,r)=>{window.HdSdk&&window.HdSdk.shopTracker.collect({},{actFields:{act:"webeventtrackerlog",report_data:JSON.stringify(e),media:r}})};function L(e){let{method:r="POST"}=e,t=r==="GET";return new Promise((n,I)=>{let l=new XMLHttpRequest,h=!t&&e.data?JSON.stringify(e.data):void 0,i=t?pt(e.url,e.data):e.url;l.open(r,i,!0);let o=e.headers||{};Object.keys(o).forEach(c=>{l.setRequestHeader(c,o[c]||"")}),l.setRequestHeader("Content-Type","application/json"),l.onreadystatechange=function(){if(l.readyState!==l.DONE)return;let c=l.status;c===0||c<=200&&c<400?n(ut(l.responseText)):I({success:!1,error:new Error(`invalid xhr status: ${c}`)})},t?l.send():l.send(h),Se({type:"http",rawData:e,data:{url:i,body:h}})})}function ut(e){try{return JSON.parse(e)}catch(r){return{error:"Parse Json Error",data:e}}}function pt(e,r){if(!r)return e;let t=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&");return`${e}?${t}`}var ke=()=>{var e;return((e=window.Shopline)==null?void 0:e.themeTypeVersion)>=3};function Pe(){var r;if(!["Products","ProductsSearch"].includes(window.Shopline.uri.alias))return((r=window.Shopline)==null?void 0:r.themeTypeVersion)<2.1?ht():ft()}function ht(){var i,o;let e=window.__SLAdsChannel.reportIdsModule,r=$(),t=window.Shopline.Analytics,n=[];(((i=t.get("products"))==null?void 0:i.list)||[]).forEach(c=>{n.push({spuId:c.spuSeq,skuId:c.reportSkuId})});let l=t.get("product");if(l){let{sku:c,spu:s}=l;(o=c==null?void 0:c.skuList)==null||o.forEach(g=>{n.push({spuId:(s==null?void 0:s.spuSeq)||"",skuId:g.skuSeq||""})})}let h=window._sl_cart__cart_service__;h&&h.cartDetail&&(h.cartItemList||[]).forEach(s=>{n.push({spuId:s.spuId,skuId:s.skuId})}),function(){let c=[];switch(t.get("templateAlias")){case"Checkout":c=t.get("tradeCheckout.productInfos");break;case"RePay":c=t.get("repay.productInfos");break;case"Orders":c=t.get("orders.orderItemList");break;case"Thankyou":c=t.get("thankyou.orderItemList");break;case"Processing":c=t.get("processing.orderInfo.itemInfos");break;default:break}c&&c.forEach(g=>{n.push({spuId:g.productSeq,skuId:g.productSku})})}(),e.fetch(q({type:"prefetch-"+window.Shopline.uri.alias},ve(r,n)))}function ft(){var h,i,o;let e=window.__SLAdsChannel.reportIdsModule,r=ke(),t=$(),n=r?window.Shopline.Analytics.pageObject:window.Shopline.Analytics._seedPageObject;n=n||{};let I=[],l=[];(h=n.cart)!=null&&h.items&&n.cart.items.forEach(c=>{if(!c.product)return;let s=Z(c.product);l.push(s)}),n.product&&l.push(Z(n.product)),(i=n.search)!=null&&i.results&&n.search.results.forEach(c=>{if(!c)return;let s=Z(c);l.push(s)}),(o=n.collection)!=null&&o.products&&n.collection.products.forEach(c=>{if(!c)return;let s=Z(c);l.push(s)}),l.forEach(c=>{(c.skuList||[]).forEach(g=>{I.push({spuId:c.spu.spuId,skuId:g.skuId})})}),e.fetch(q({type:"prefetch-"+window.Shopline.uri.alias},ve(t,I)))}function Z(e){return{spu:{spuId:e.id,title:e.title},skuList:(e.variants||[]).map(r=>({skuId:r.id,skuItemNo:r.sku}))}}function ve(e,r){return r.reduce((t,n)=>(Array.isArray(e.enabled.FBPixel)&&e.enabled.FBPixel.length>0&&t.facebookPixelReportIds.push({skuId:n.skuId,spuId:n.spuId}),Array.isArray(e.enabled.GARemarketing)&&e.enabled.GARemarketing.length>0&&t.googleAdsReportIds.push({skuId:n.skuId}),e.insert.pinterest&&t.pinterestReportIds.push({spuId:n.spuId,skuId:n.skuId}),de(e.extra,me)&&t.snapchatReportIds.push({skuId:n.skuId}),de(e.extra,be)&&t.criteoReportIds.push({spuId:n.spuId}),de(e.extra,Ce)&&t.redditReportIds.push({skuId:n.skuId}),t),{googleAdsReportIds:[],facebookPixelReportIds:[],snapchatReportIds:[],pinterestReportIds:[],criteoReportIds:[],redditReportIds:[]})}function de(e,r){return e.filter(t=>t.toolCode===r).length>0}var ue=(h=>(h.FacebookPixel="facebookPixelReportIds",h.GoogleAds="googleAdsReportIds",h.Snapchat="snapchatReportIds",h.Pinterest="pinterestReportIds",h.Criteo="criteoReportIds",h.Reddit="redditReportIds",h))(ue||{}),_t=e=>L({url:"/api/ads-bff-client/idTransQuery",data:{storeId:window.Shopline.storeId,type:e.type,facebookPixelReportIds:e.facebookPixelReportIds,googleAdsReportIds:e.googleAdsReportIds,snapchatReportIds:e.snapchatReportIds,pinterestReportIds:e.pinterestReportIds,criteoReportIds:e.criteoReportIds,redditReportIds:e.redditReportIds},headers:{"x-le-proxy-mode":"bff"}}),qe="@@shopline.ads.channel.reportIds@@";function It(){let e=lt(),r=t=>_t(t).then(n=>{var z,y,b,k,a,_;if(!n.success)return console.error("Aggregation query failed",{params:t,response:n}),{error:!0};let I=n.data;if(!(I&&Object.keys(I).some(R=>{var d,x;return((x=(d=I[R])==null?void 0:d.code)==null?void 0:x.name)==="SUCCESS"})))return{error:!0};let{facebookPixelReportIds:h,googleAdsReportIds:i,snapchatReportIds:o,pinterestReportIds:c,criteoReportIds:s,redditReportIds:g}=I,w=((z=h==null?void 0:h.data)==null?void 0:z.products)||[];w.forEach((R,d)=>{let x=t.facebookPixelReportIds[d],C=["1717339827542"].includes(window.Shopline.storeId);e.facebookPixelReportIds.set(x.spuId,x.skuId,C?R.skuId:R.spuId)});let m=((y=i==null?void 0:i.data)==null?void 0:y.products)||[];m.forEach((R,d)=>{let x=t.googleAdsReportIds[d];e.googleAdsReportIds.set(x.spuId,x.skuId,R.skuId)});let P=((b=c==null?void 0:c.data)==null?void 0:b.products)||[];P.forEach((R,d)=>{let x=t.pinterestReportIds[d];e.pinterestReportIds.set(x.spuId,x.skuId,R.spuId+"/"+R.skuId)});let v=((k=o==null?void 0:o.data)==null?void 0:k.products)||[];v.forEach((R,d)=>{let x=t.snapchatReportIds[d];e.snapchatReportIds.set(x.spuId,x.skuId,R.skuId)});let H=((a=s==null?void 0:s.data)==null?void 0:a.products)||[];H.forEach((R,d)=>{let x=t.criteoReportIds[d];e.criteoReportIds.set(x.spuId,x.skuId,R.spuId)});let N=((_=g==null?void 0:g.data)==null?void 0:_.products)||[];return N.forEach((R,d)=>{let x=t.redditReportIds[d];e.redditReportIds.set(x.spuId,x.skuId,R.skuId)}),(w.length||m.length||P.length||v.length||H.length||N.length)&&e.persistToSS(),{error:!1}},n=>(console.error("Aggregation query failed",{params:t,error:n}),{error:!0}));return{key:e.key,has:e.has,get:e.get,set:e.set,getFBPixelReportId:e.facebookPixelReportIds.get,setFBPixelReportId:e.facebookPixelReportIds.set,getGARemarketingReportId:e.googleAdsReportIds.get,setGARemarketingReportId:e.googleAdsReportIds.set,getSnapchatReportId:e.snapchatReportIds.get,setSnapchatReportId:e.snapchatReportIds.set,getPinReportId:e.pinterestReportIds.get,setPinReportId:e.pinterestReportIds.set,getCriteoReportId:e.criteoReportIds.get,setCriteoReportId:e.criteoReportIds.set,getRedditReportId:e.redditReportIds.get,setRedditReportId:e.redditReportIds.set,fetch(t){var I,l,h,i,o,c;let n={type:t.type,facebookPixelReportIds:[],googleAdsReportIds:[],snapchatReportIds:[],pinterestReportIds:[],criteoReportIds:[],redditReportIds:[]};return(I=t.facebookPixelReportIds)==null||I.forEach(s=>{e.has("fbpId",s.spuId,s.skuId)||n.facebookPixelReportIds.push(s)}),(l=t.googleAdsReportIds)==null||l.forEach(s=>{e.has("gadsId",s.skuId)||n.googleAdsReportIds.push(s)}),(h=t.snapchatReportIds)==null||h.forEach(s=>{e.has("snapId",s.skuId)||n.snapchatReportIds.push(s)}),(i=t.pinterestReportIds)==null||i.forEach(s=>{e.has("pinsId",s.spuId,s.skuId)||n.pinterestReportIds.push(s)}),(o=t.criteoReportIds)==null||o.forEach(s=>{e.has("criteoId",s.spuId)||n.criteoReportIds.push(s)}),(c=t.redditReportIds)==null||c.forEach(s=>{e.has("redditId",s.skuId)||n.redditReportIds.push(s)}),Object.values(ue).some(s=>n[s].length)?r(n):Promise.resolve({error:!1})}}}function lt(){let e={},r=()=>{try{let y=window.sessionStorage.getItem(qe);if(!y)return;let b=JSON.parse(y);Object.keys(b).forEach(k=>{e[k]=b[k]})}catch(y){}},t=()=>{try{window.sessionStorage.setItem(qe,JSON.stringify(e))}catch(y){}},n=(y,...b)=>xt(y,...b),I=(y,...b)=>e[n(y,...b)]!=null,l=(y,...b)=>e[n(y,...b)],h=(y,b,...k)=>{e[n(b,...k)]=y},i=(y,b)=>l("fbpId",y,b),o=(y,b,k)=>{h(k,"fbpId",y,b)},c=(y,b)=>l("pinsId",y,b),s=(y,b,k)=>{h(k,"pinsId",y,b)},g=(y,b)=>l("gadsId",b),w=(y,b,k)=>{h(k,"gadsId",b)},m=(y,b)=>l("snapId",b),P=(y,b,k)=>{h(k,"snapId",b)},v=y=>l("criteoId",y),H=(y,b,k)=>{h(k,"criteoId",y)},N=y=>l("redditId",y),z=(y,b,k)=>{h(k,"redditId",b)};return r(),{key:n,has:I,get:l,set:h,persistToSS:t,facebookPixelReportIds:{get:i,set:o},googleAdsReportIds:{get:g,set:w},snapchatReportIds:{get:m,set:P},pinterestReportIds:{get:c,set:s},criteoReportIds:{get:v,set:H},redditReportIds:{get:N,set:z}}}function xt(...e){return e.join("/")}function pe(){window.__SLAdsChannel||(window.__SLAdsChannel={}),!window.__SLAdsChannel.reportIdsModule&&(window.__SLAdsChannel.reportIdsModule=It(),Pe())}var T={setItemWithExpire:(e,r,t=864e5)=>{if(typeof t!="number"||Number.isNaN(t)||t<1)throw new Error("expire invalid");let n={data:r,time:Date.now(),expire:t};window.localStorage.setItem(e,JSON.stringify(n))},getItemWithExpire:e=>{let r=window.localStorage.getItem(e);if(!r)return null;try{let t=JSON.parse(r);return Date.now()>(t==null?void 0:t.time)+(t==null?void 0:t.expire)?(window.localStorage.removeItem(e),null):t==null?void 0:t.data}catch(t){return console.error(t),null}}};function gt(){return L({url:"/api/ads-bff-client/getCountryRegion"})}var Ae="d_geo_data";function Ee(){if(window.__SLAdsChannel||(window.__SLAdsChannel={}),window.__SLAdsChannel.geoData)return;let e=T.getItemWithExpire(Ae);if(e){window.__SLAdsChannel.geoData=e;return}gt().then(r=>{var t;(t=r==null?void 0:r.data)!=null&&t.countryCode&&(window.__SLAdsChannel.geoData=r.data,T.setItemWithExpire(Ae,r.data))})}var he=()=>{var e,r;return(r=(e=window.__SLAdsChannel)==null?void 0:e.geoData)!=null?r:{}};function Te(e,r,t){let n=I=>{let l=I.target,h=!1,i=typeof e;if(i==="string"?h=!!l.closest(e):i==="function"&&(h=e(l)),h)try{t(I)}catch(o){console.error("event interceptor callback error:",{error:o})}};return document.addEventListener(r,n),()=>{document.removeEventListener(r,n)}}var U=[],De=()=>{let e=Rt();return{begin(r,t){let n=e.begin(r,t);return()=>{n()}},success(r,t){let n=e.success(r,t);return()=>{n()}}}};function Rt(){let e=fetch,r=new Set,t=new Set;return window.fetch=function(I,l){return Q(this,null,function*(){if(typeof I=="string"&&U.some(s=>I.indexOf(s)===-1))return e(I,l);let h=new Request(I,l),o={url:new URL(h.url,window.location.origin),method:h.method,body:yield function(){return Q(this,null,function*(){let s=h.clone(),g=(h.headers.get("content-type")||"").toLowerCase();switch(!0){case g.indexOf("application/json")===0:case g.indexOf("text/json")===0:case g.indexOf("text/plain")===0:return yield s.text();case g.indexOf("multipart/form-data")===0:return yield s.formData();default:return}})}()};try{let s=Array.from(r);for(let g of s)try{g(h.clone(),o)}catch(w){console.error("execute openedQueue failed with",w)}}catch(s){console.error("execute openedQueue failed: ",s)}let c=yield e(h.clone());try{let s=Array.from(t),g,w;try{g=yield c.clone().text(),g&&(w=JSON.parse(g))}catch(m){console.error("parse responseText failed",m)}for(let m of s)try{m(h.clone(),c.clone(),o,{text:g,json:w})}catch(P){console.error("execute responseQueue failed with",P)}}catch(s){console.error("execute responseQueue failed: ",s)}return c})},{begin(n,I){let l=(h,i)=>{Le(h.url,n)&&I(i)};return r.add(l),U.push(n),()=>{r.delete(l),U=U.filter(h=>h!==n)}},success(n,I){let l=(h,i,o,c)=>{i.ok&&Le(h.url,n)&&I(o,c)};return t.add(l),U.push(n),()=>{t.delete(l),U=U.filter(h=>h!==n)}}}}function Le(e,r){return e.indexOf(r)!==-1}var Oe="d_channel_email",yt=864e5*90,K=(e,r,t=!0)=>{e&&(T.setItemWithExpire(Oe,{email:e,source:r},yt),t&&Ft(e,r))},ee=()=>T.getItemWithExpire(Oe);function wt(){Te(e=>{let r=!!e.querySelector("input[value='customer']"),t=!!e.closest("form[action='/api/user/front/form/subscribe']");return r||t},"submit",function(e){let t=e.target.querySelector("input[type=email]");if(e.defaultPrevented)return;let n=t==null?void 0:t.value;n&&K(n,"subscribe")})}function mt(){De().begin("/api-client/form/saveFormInfo",r=>{let t=r.body;if(t)try{let I=JSON.parse(t).questionDetail,l=bt(I,i=>i.property.toLowerCase()==="email"),h=l==null?void 0:l.answer;h&&K(h,"smartpush")}catch(n){console.error("fetch interceptor json parse failed",n)}})}var Be=()=>{window.__SLAdsChannel||(window.__SLAdsChannel={});let e=ee();e!=null&&e.email||Ct(),!window.__SLAdsChannel.interceptorInitialized&&(window.__SLAdsChannel.interceptorInitialized=!0,wt(),mt())};function bt(e,r){if(Array.isArray)for(let t=e.length-1;t>=0;t--){let n=e[t];if(r(n))return n}}function Ct(){L({url:"/api/ads-bff-client/getEmail"}).then(e=>{let r=e==null?void 0:e.data;r&&K(r,"getEmail",!1)})}function Ft(e,r){L({url:"/api/ads-bff-client/saveEmail",data:{email:e,source:r}})}var Ne=it(Me()),fe={};function _e(e){let r=(e||"").trim();if(!r)return;let t=r.toLowerCase();if(fe[t])return fe[t];let n=(0,Ne.sha256)(t);return fe[t]=n,n}var kt={country:{type:"string",typeParams:{lowercase:!0,strip:"whitespace_only"}},ph:{type:"phone_number"},em:{type:"email"},fn:{type:"string",typeParams:{lowercase:!0,strip:"whitespace_and_punctuation"}},ln:{type:"string",typeParams:{lowercase:!0,strip:"whitespace_and_punctuation"}},zp:{type:"postal_code"},ct:{type:"string",typeParams:{lowercase:!0,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},st:{type:"string",typeParams:{lowercase:!0,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}}},ze=()=>{let e=window.__sl_pixel_user_data__;if(e)try{for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let t=e[r],n=kt[r];if(n){let I=Pt(n,t);I&&(e[r]=I)}}}catch(r){console.error("Error in normalizeFacebook",r)}};function Pt(e,r){let{type:t,typeParams:n}=e;return t==="string"?At(n,r):t==="email"?vt(r):t==="phone_number"?Ie(r):t==="postal_code"?qt(r):""}function vt(e){let r="";return typeof e!="string"||(r=e.toLowerCase().trim()),r}function Ie(e){let r="";if(typeof e!="string")return r;let t=/[\-@#<>\'\",; ]|\(|\)|\+|[a-z]/gi,n=/^0*/;return r=e.replace(t,"").replace(n,""),r&&(r=_e(r)),r}function qt(e){let r="";return typeof e!="string"||(e=e.toLowerCase().split("-",1)[0],e&&(e=e.trim()),e.length>=2&&(r=e)),r}function At(e,r){let t="";return e.strip&&(t=Tt(r,e.strip)),e.lowercase&&(t=t.toLowerCase()),typeof e.truncate=="number"&&(t=Et(t,0,e.truncate)),e.test&&(new RegExp(e.test).test(t)||(t="")),t}function Et(e,r,t){return typeof e!="string"?"":e.length<t&&r===0?e:[].concat(Array.from(e)).slice(r,r+t).join("")}function Tt(e,r){let t=/\s+/g,n=/[!\"#\$%&\'\(\)\*\+,\-\.\/:;<=>\?@ \[\\\]\^_`\{\|\}~\s]+/g,I=/\W+/g,l=r||"whitespace_only",h="";if(typeof e!="string")return"";switch(l){case"whitespace_only":h=e.replace(t,"");break;case"whitespace_and_punctuation":h=e.replace(n,"");break;case"all_non_latin_alpha_numeric":h=e.replace(I,"");break}return h}function Lt(){return L({method:"POST",url:"/api/ads-bff-client/gray/facebook/specialReport",data:{storeId:window.Shopline.storeId}})}var Ve="d_fb_sr";function Ue(){if(window.__SLAdsChannel||(window.__SLAdsChannel={}),window.__SLAdsChannel.isGrayFBSpecialReport)return;let e=T.getItemWithExpire(Ve);if(e){window.__SLAdsChannel.isGrayFBSpecialReport=e;return}Lt().then(r=>{var n;let t=(n=r==null?void 0:r.data)!=null?n:!1;t&&(window.__SLAdsChannel.isGrayFBSpecialReport=t,T.setItemWithExpire(Ve,t))})}function Ot(e){let r=e.enabled.FBPixel;if(!Array.isArray(r)||!r.length)return;pe(),Ee(),Be(),Ue();let t=window.Shopline.Analytics,n=Bt(r);Object.keys(n).forEach(I=>{let l=n[I];t.subscribe(I,h=>{var i;if(!((i=window.__SLAdsChannel)!=null&&i.isGrayFBSpecialReport&&I!=="PageView"))return l(h)})})}function Bt(e){let r=(i,o,c,s)=>{ze(),window.fbq("track",i,o,c,...s||[])},t=(i,o)=>{let c=ee(),s=c==null?void 0:c.source;e.forEach(({id:g})=>{Fe("FacebookPixel",i,M(q({},o),{emailSource:s,accountId:g,pixelId:g,traceConfig:{id:g}}))})},n=we(),{getFBPixelReportId:I,fetch:l}=window.__SLAdsChannel.reportIdsModule,h=(i,o)=>I(i,o)||i;return{PageView(i){let o={eventID:i.event_id},c="PageView";O(),r(c,{},o),t({name:"PageView",payload:i},{eventName:c,extData:o,userData:D()})},CompleteRegistration(i){i=q({},i);let o=Ie(i.ph),c={content_name:i.user_id,em:i.em,ph:o},g={eventID:i.event_id},w="CompleteRegistration";K(c.em,"CompleteRegistration"),c.em&&(c.em=c.em.toLowerCase()),O(),r(w,c,g),t({name:"CompleteRegistration",payload:i},{eventName:w,data:c,extData:g,userData:D()})},ViewSearchResults(i){i=q({},i);let o=(i.items||[]).slice(0,10);l({type:"fb-ViewSearchResults",facebookPixelReportIds:o.map(c=>({skuId:c.sku_id,spuId:c.spu_id}))}).then(({error:c})=>{let s="Search",w={eventID:i.event_id},m=c?void 0:J(o.map(v=>h(v.spu_id,v.sku_id))),P={search_string:i.search_string,content_ids:m,content_type:m?"product_group":void 0,currency:i.currency};O(),r(s,P,w),t({name:"ViewSearchResults",payload:i},{eventName:s,data:P,extData:w,userData:D()})})},Lead(i){let c=(i.items||[])[0],s={content_type:"product_group",currency:i.currency},g={eventID:i.event_id},w="Lead";if(O(),!c.spu_id){r(w,s,g),t({name:"Lead",payload:i},{eventName:w,data:s,extData:g,userData:D()});return}l({type:"fb-Lead",facebookPixelReportIds:[{skuId:c.sku_id,spuId:c.spu_id}]}).then(()=>{s=M(q({},s),{content_name:(c==null?void 0:c.product_name)||"",content_ids:J([h(c.spu_id,c.sku_id)]),value:c==null?void 0:c.price}),r(w,s,g),t({name:"Lead",payload:i},{eventName:w,data:s,extData:g,userData:D()})})},ViewItem(i){if(i.is_select_variant)return;i=q({},i);let c=(i.items||[])[0];O(),l({type:"fb-ViewItem",facebookPixelReportIds:[{skuId:c.sku_id,spuId:c.spu_id}]}).then(()=>{let s={content_ids:J([h(c.spu_id,c.sku_id)]),content_name:(c==null?void 0:c.product_name)||"",content_category:(c==null?void 0:c.custom_category)||"",content_type:"product_group",currency:i.currency,value:c==null?void 0:c.price},w={eventID:i.event_id},m="ViewContent";r(m,s,w),t({name:"ViewItem",payload:i},{eventName:m,data:s,extData:w,userData:D()})})},AddToCart(i){let o=i.items||[],c=o.reduce((s,g)=>s+g.quantity,0);O(),l({type:"fb-AddToCart",facebookPixelReportIds:o.map(s=>({skuId:s.sku_id,spuId:s.spu_id}))}).then(()=>{let s={content_ids:J(o.map(m=>h(m.spu_id,m.sku_id))),content_name:Ke(o.map(m=>m.product_name)),content_category:Ke(o.map(m=>m.custom_category||"")),content_type:"product_group",currency:i.currency,value:i.value,num_items:c},g={eventID:i.event_id},w="AddToCart";r(w,s,g),t({name:"AddToCart",payload:i},{eventName:w,data:s,extData:g,userData:D()})})},InitiateCheckout(i){let o=i.items||[],c=o.reduce((s,g)=>s+g.quantity,0);O(),l({type:"fb-InitiateCheckout",facebookPixelReportIds:o.map(s=>({skuId:s.sku_id,spuId:s.spu_id}))}).then(()=>{let s={content_type:"product_group",content_ids:J(o.map(m=>h(m.spu_id,m.sku_id))),num_items:c,value:i.value,currency:i.currency},g={eventID:i.event_id},w="InitiateCheckout";r(w,s,g),t({name:"InitiateCheckout",payload:i},{eventName:w,data:s,extData:g,userData:D()})})},AddPaymentInfo(i){let o=i.items||[],c=o.reduce((s,g)=>s+g.quantity,0);l({type:"fb-AddPaymentInfo",facebookPixelReportIds:o.map(s=>({skuId:s.sku_id,spuId:s.spu_id}))}).then(()=>{var P;let s={content_ids:J(o.map(v=>h(v.spu_id,v.sku_id))),value:i.value,item_price:(P=o[0])==null?void 0:P.final_price,currency:i.currency,quantity:c},g={eventID:i.event_id},w=i.user_info||{},m="AddPaymentInfo";K(w.email,"AddPaymentInfo"),i.user_info?Je({em:w.email,ph:w.phone,ln:w.lastName,fn:w.firstName,ct:w.city,st:w.province,zp:w.postcode,country:w.country}):O(),r(m,s,g),t({name:"AddPaymentInfo",payload:i},{eventName:m,data:s,extData:g,userData:D()})})},Purchase(i){if(n!==28)return;i=q({},i);let o=i.items||[],c=o.reduce((s,g)=>s+g.quantity,0);l({type:"fb-Purchase",facebookPixelReportIds:o.map(s=>({skuId:s.sku_id,spuId:s.spu_id}))}).then(()=>{let s={content_ids:J(o.map(v=>h(v.spu_id,v.sku_id))),content_type:"product_group",value:i.value,num_items:c,currency:i.currency},w={eventID:i.event_id},m=[{order_seq:i.order_id}],P="Purchase";K(i.em,"Purchase"),jt(i)?Gt():Je(i),r(P,s,w,m),t({name:"Purchase",payload:i},{eventName:P,data:s,extData:w,rest:m,userData:D()})})}}}function J(e){if(!(!e||e.length<=0))return e.reduce((r,t)=>r.find(n=>n===t)?r:r.concat(t),[])}function Ke(e){return!e||e.length<=0?"":e.join(",")}function Je(e){if(!window.__sl_pixel_user_data__)return;let r=he();try{e.em&&(window.__sl_pixel_user_data__.em=e.em.toLowerCase()),e.ph&&(window.__sl_pixel_user_data__.ph=e.ph),window.__sl_pixel_user_data__.country=e.country||r.countryCode,window.__sl_pixel_user_data__.st=e.st||r.st,window.__sl_pixel_user_data__.ct=e.ct||r.city,window.__sl_pixel_user_data__.zp=e.zp||r.zp,window.__sl_pixel_user_data__.fn=e.fn,window.__sl_pixel_user_data__.ln=e.ln}catch(t){console.error(t)}}function Gt(){try{if(O(),!window.enhanced_conversion_data||!window.__sl_pixel_user_data__)return;let{email:e,phone_number:r,address:t}=window.enhanced_conversion_data;if(e&&(window.__sl_pixel_user_data__.em=e.toLowerCase()),r&&(window.__sl_pixel_user_data__.ph=r),!t)return;t.country!=null&&(window.__sl_pixel_user_data__.country=t.country),t.region!=null&&(window.__sl_pixel_user_data__.st=t.region),t.city!=null&&(window.__sl_pixel_user_data__.ct=t.city),t.postal_code!=null&&(window.__sl_pixel_user_data__.zp=t.postal_code),t.first_name!=null&&(window.__sl_pixel_user_data__.fn=t.first_name),t.last_name!=null&&(window.__sl_pixel_user_data__.ln=t.last_name)}catch(e){console.error(e)}}function jt(e){return!(e.em||e.ph||e.fn||e.ln||e.ct||e.st||e.zp||e.country)}function D(){return q({},window.__sl_pixel_user_data__||{})}function O(){Mt(),Nt()}function Mt(){let e=he();e.countryCode&&(window.__sl_pixel_user_data__.country=e.countryCode),e.city&&(window.__sl_pixel_user_data__.ct=e.city),e.st&&(window.__sl_pixel_user_data__.st=e.st),e.zp&&(window.__sl_pixel_user_data__.zp=e.zp)}function Nt(){let e=ee();e!=null&&e.email&&(window.__sl_pixel_user_data__.em=e.email.toLowerCase())}var He=Ot;var zt=["Googlebot","bingbot","facebookexternalhit","AdsBot-Google","AhrefsBot","Applebot","Amazonbot","AmazonProductDiscovery","YaDirectFetcher","SnapchatAds","YandexRenderResourcesBot"],We=zt.some(e=>{var r,t;return(t=(r=window.navigator)==null?void 0:r.userAgent)==null?void 0:t.includes(e)});var Qe=navigator.userAgent.indexOf("SL2ShopperApp")>-1;function $e(){return L({url:"/api/ads-bff-client/gray/getIpExternalId",data:{storeId:window.Shopline.storeId},method:"GET"})}var Ye;window.__SLAdsChannel=(Ye=window.__SLAdsChannel)!=null&&Ye.extIdCbs?window.__SLAdsChannel:M(q({},window.__SLAdsChannel),{extIdCbs:[],extId:null});function Xe(e){return Q(this,null,function*(){if(window.__SLAdsChannel.extId){e(window.__SLAdsChannel.extId);return}let r=T.getItemWithExpire("__AdsExtId");if(r){window.__SLAdsChannel.extId=r,e(r);return}if(window.__SLAdsChannel.extIdCbs.length>0){window.__SLAdsChannel.extIdCbs.push(e);return}window.__SLAdsChannel.extIdCbs.push(e);try{let t=yield $e();T.setItemWithExpire("__AdsExtId",t.data,1e3*60*20),window.__SLAdsChannel.extId=t.data,window.__SLAdsChannel.extIdCbs.forEach(n=>n(t.data)),window.__SLAdsChannel.extIdCbs=[]}catch(t){window.__SLAdsChannel.extIdCbs.forEach(n=>n({isInFbScale:!1,extId:void 0})),window.__SLAdsChannel.extIdCbs=[]}})}var le=$();function Vt(e,r,t,n,I,l,h){e.fbq||(I=e.fbq=function(){I.callMethod?I.callMethod.apply(I,arguments):I.queue.push(arguments)},e._fbq||(e._fbq=I),I.push=I,I.loaded=!0,I.version="2.0",I.queue=[],l=r.createElement(t),l.async=!0,l.src=n,h=r.getElementsByTagName(t)[0],h.parentNode.insertBefore(l,h),e.fbq.disablePushState=!0,e.fbq.allowDuplicatePageViews=!0)}le&&!Qe&&!We&&le.insert.fb&&(Vt(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),Xe(e=>{Ut(le,e)}));function Ut(e,r){var n;if(window.__sl_pixel_user_data__={},r.isInFbScale)window.__sl_pixel_user_data__.external_id=r.extId;else{let I=V("n_u");I&&(window.__sl_pixel_user_data__.external_id=I)}((n=e.enabled.FBPixel)!=null?n:[]).forEach(I=>{window.fbq("init",I.id,window.__sl_pixel_user_data__,{agent:"plShopline"})}),He(e)}})();
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.11.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2024
   * @license MIT
   *)
*/
